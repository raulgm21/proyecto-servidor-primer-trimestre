<?php

// ********************************************************************************************************************* //
// ********************************************************************************************************************* //
// ********************************************************************************************************************* //
// ************************************************* FUNCIONES PASSWORD ************************************************ //
// ********************************************************************************************************************* //
// ********************************************************************************************************************* //
// ********************************************************************************************************************* //

    /*--------------------------------------------------------------------------------/
      FUNCIÓN ENCRIPTAR CONTRASEÑA: Nos encriptara la contraseña que le pasemos a la
      hora de registrar un usuario.
    /--------------------------------------------------------------------------------*/

    function encriptar_password($contra)
    {
        $hash   = password_hash($contra,PASSWORD_DEFAULT, ['cost' => 8]);
        return $hash;
    }

    /*--------------------------------------------------------------------------------/
      FUNCIÓN DEENCRIPTAR CONTRASEÑA: Nos devolvera la contraseña encriptada del
      nombre del usuario que le pasemos.
    /--------------------------------------------------------------------------------*/
    
    function desencriptar_password($nombre)
    {
        global $conn;     // Variable de conexionbase.php
        
        $clave      = "SELECT contra FROM usuarios WHERE nombre='$nombre'";
        $consultar  = mysqli_query($conn, $clave);

        foreach($consultar as $variable){        // Devuelve la contraseña encriptada
        foreach($variable as $valor){
            $contra  = $valor;
        }
        }

        return $contra;
    }
?>